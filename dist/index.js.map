{"version":3,"file":"index.js","sources":["../src/GridHelper/index.tsx","../src/Grid/GridSystem.tsx","../src/Grid/Grid.hooks.ts","../src/Grid/Grid.tsx","../src/Grid/GridColumn.tsx"],"sourcesContent":["import React, {FunctionComponent, useContext, useEffect, useState} from 'react'\nimport {Column, GetBreakpoint, Grid, GridSystemContext} from '..';\n\nimport styles from './GridHelper.module.css';\n\n\ninterface GridHelperProps {\n  margin?: {\n    [index: string]: string;\n  }\n}\n\n\nexport const GridHelper: FunctionComponent<GridHelperProps> = ({\n  margin\n}): JSX.Element => {\n  \n  const {breakpoints} = useContext(GridSystemContext)\n  const currentBreakpoint = GetBreakpoint()\n  const [visible, setVisible] = useState(false);\n\n  useEffect(() => {\n    const toggleGrid = ({ key, ctrlKey }: KeyboardEvent): void => {\n      if (ctrlKey && key === 'g') {\n        setVisible(!visible);\n      }\n    };\n\n    window.addEventListener('keyup', toggleGrid);\n\n    return (): void => {\n      window.removeEventListener('keyup', toggleGrid);\n    };\n  }, [visible]);\n\n  return (\n    <div className={`${styles.wrapper} ${visible ? styles.wrapper__visible : ''}`}>\n      {Object.keys(breakpoints).map((breakpoint, index) => (\n        <div \n        className={styles.container}\n        style={{\n          display: currentBreakpoint !== breakpoint ? 'none' : '',\n          margin: margin && margin[breakpoint] ? `0 ${margin[breakpoint]}` : 'auto'}} key={`g-${breakpoint}-${index}`}>\n        <Grid className={styles.container}>\n          {\n            [...Array(breakpoints[breakpoint].columns)].fill('c').map((column, index) => \n            <Column key={`${breakpoint}-${column}-${index}`} className={styles.column} size={{[breakpoint]: 1}} />)\n          }\n        </Grid>\n        </div>\n      ))}\n    </div>\n  )\n}\n","import React, { createContext, FunctionComponent, useEffect } from 'react'\nimport { Breakpoint, GridSystemProps } from './Grid.interfaces'\n\nconst getBreakpointQuery = (\n  { minWidth, maxWidth }: Breakpoint,\n  styles: string\n) => {\n  const query = []\n  if (minWidth) {\n    query.push(`(min-width: ${minWidth}px)`)\n  }\n  if (maxWidth) {\n    query.push(`(max-width: ${maxWidth}px)`)\n  }\n\n  return `@media ${query.join(' and ')} {${styles}}`\n}\n\nconst createStyles = (gridSettings: GridSystemProps) => {\n  const style = document.createElement('style')\n  const mediaQuery: string[] = []\n  const { breakpoints, prefixes } = gridSettings\n\n  const gridStyle = `.${prefixes.grid} {\n        display: flex;\n        flex-basis: auto;\n        flex-direction: row;\n        flex-wrap: wrap;\n        width: auto;\n    }`\n\n  Object.keys(breakpoints).forEach((breakpoint) => {\n    let items = ''\n    const { gutterSize } = breakpoints[breakpoint]\n\n    // CSS Grid\n    items += `.${prefixes.grid}-${breakpoint} {\n                margin-left: -${gutterSize}px;\n                margin-right: -${gutterSize}px;\n            } `\n\n    // CSS column\n    items += `.${prefixes.gridColumn}-${breakpoint} {\n                box-sizing: border-box;\n                padding-left: ${gutterSize}px;\n                padding-right: ${gutterSize}px;\n            } `\n\n    for (let i = 1; i <= breakpoints[breakpoint].columns; i++) {\n      for (let j = 1; j <= i; j++) {\n        const width = (j / i) * 100\n        items += `.${prefixes.gridColumn}-${breakpoint}-${j}-${i} {\n                        flex-basis: ${width}%;\n                        width: ${width}%;\n                    }`\n\n        // CSS offset left\n        items += `.${prefixes.gridColumn}-ol-${breakpoint}-${j}-${i} {\n                        margin-left: ${width}%;\n                    }`\n\n        // CSS offset left\n        items += `.${prefixes.gridColumn}-or-${breakpoint}-${j}-${i} {\n                        margin-right: ${width}%;\n                    }`\n      }\n    }\n\n    mediaQuery.push(getBreakpointQuery(breakpoints[breakpoint], items))\n  })\n\n  mediaQuery.push(gridStyle)\n\n  document.head.appendChild(style)\n  style.appendChild(document.createTextNode(mediaQuery.join('')))\n}\n\nexport const GridSystemContext = createContext<GridSystemProps>({\n  breakpoints: {},\n  prefixes: {\n    grid: 'g',\n    gridColumn: 'gc'\n  }\n})\n\nexport const GridSystem: FunctionComponent<{ settings: GridSystemProps }> = ({\n  settings,\n  children\n}) => {\n  useEffect(() => createStyles(settings), [settings])\n  return (\n    <GridSystemContext.Provider value={settings}>\n      {children}\n    </GridSystemContext.Provider>\n  )\n}\n","import {useContext, useEffect, useState} from \"react\";\nimport {GridSystemContext} from \"./GridSystem\";\n\nexport const GetBreakpoint = () => {\n  const gridContext = useContext(GridSystemContext);\n  const [breakpoint, setBreakpoint] = useState<string>(\n    Object.keys(gridContext.breakpoints)[0]\n  );\n\n  useEffect(() => {\n    const handleResize = () => {\n      setTimeout(() => {\n        const bp = Object.keys(gridContext.breakpoints).find((key) => {\n          const { minWidth, maxWidth } = gridContext.breakpoints[key];\n          const { innerWidth } = window;\n\n          let breakpoint = null;\n\n          if (\n            minWidth &&\n            maxWidth &&\n            innerWidth >= minWidth &&\n            innerWidth <= maxWidth\n          ) {\n            breakpoint = key;\n          } else if (minWidth && !maxWidth && innerWidth >= minWidth) {\n            breakpoint = key;\n          } else if (!minWidth && maxWidth && innerWidth < maxWidth) {\n            breakpoint = key;\n          }\n\n          return breakpoint;\n        });\n\n        if (bp) {\n          setBreakpoint(bp);\n        }\n      }, 10);\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n\n    handleResize();\n\n    return () => window.addEventListener(\"resize\", handleResize);\n  }, [gridContext.breakpoints]);\n\n  return breakpoint;\n};\n","import React, { useContext } from 'react'\nimport { GridSystemContext } from './GridSystem'\n\ninterface GridContainerProps {\n  className?: string;\n  style?: {};\n}\n\nexport const Grid: React.FC<GridContainerProps> = ({\n  children,\n  className = '',\n  style\n}) => {\n  const { breakpoints, prefixes } = useContext(GridSystemContext)\n  const classNames = Object.keys(breakpoints)\n    .map((breakpoint) => `g-${breakpoint}`)\n    .join(' ')\n\n  return (\n    <div\n      style={style}\n      className={`${prefixes.grid} ${classNames} ${className}`}\n    >\n      {children}\n    </div>\n  )\n}\n","import React, {FunctionComponent, useContext, useEffect, useRef, useState} from 'react';\nimport {GridSystemContext} from './GridSystem';\n\n\ninterface GridColumnProps {\n  className?: string;\n  size: {\n    [index: string]: number | undefined;\n  },\n  offsetLeft?: {\n    [index: string]: number | undefined;\n  },\n  offsetRight?: {\n    [index: string]: number | undefined;\n  }\n}\n\ninterface ColumnState {\n  classNames: string;\n  dataProps: { [index: string]: string | number; }\n}\n\nconst defaultState = {classNames: '', dataProps: {}};\n\nexport const Column: FunctionComponent<GridColumnProps> =\n  ({\n     children,\n     className = '',\n     size,\n     offsetLeft,\n     offsetRight\n   }) => {\n    const refColumn = useRef<HTMLDivElement>(null);\n    const {breakpoints, prefixes} = useContext(GridSystemContext);\n    const [state, setState] = useState<ColumnState>(defaultState)\n\n    const getParentSizes = () => {\n      const classNames: string[] = [];\n      let dataProps: { [index: string]: string | number } = {};\n\n      Object.keys(breakpoints).forEach(breakpoint => {\n        const parentSize = refColumn?.current?.parentElement\n          ?.closest(`[data-column-size-${breakpoint}]`)\n          ?.getAttribute(`data-column-size-${breakpoint}`);\n\n        const totalColumns = parentSize ? parentSize : breakpoints[breakpoint].columns;\n        const columnSize = size[breakpoint] ? size[breakpoint] : totalColumns;\n\n        classNames.push(`${prefixes.gridColumn}-${breakpoint} ${prefixes.gridColumn}-${breakpoint}-${columnSize}-${totalColumns}`);\n\n        if (offsetLeft && offsetLeft[breakpoint]) {\n          classNames.push(`${prefixes.gridColumn}-ol-${breakpoint}-${offsetLeft[breakpoint]}-${totalColumns}`);\n        }\n\n        if (offsetRight && offsetRight[breakpoint]) {\n          classNames.push(`${prefixes.gridColumn}-or-${breakpoint}-${offsetRight[breakpoint]}-${totalColumns}`);\n        }\n\n        if (columnSize) {\n          dataProps[`data-column-size-${breakpoint}`] = columnSize;\n        }\n      });\n\n      setState({\n        classNames: classNames.join(' '),\n        dataProps,\n      });\n    }\n\n    useEffect(() => getParentSizes(), [size, offsetLeft, offsetRight]);\n\n    return <div\n      ref={refColumn}\n      {...state.dataProps}\n      className={`${state.classNames} ${className}`}>\n      {children}\n    </div>;\n  };\n"],"names":["GridHelper","margin","useContext","GridSystemContext","breakpoints","currentBreakpoint","GetBreakpoint","useState","visible","setVisible","useEffect","toggleGrid","key","ctrlKey","window","addEventListener","removeEventListener","React","className","styles","wrapper","wrapper__visible","Object","keys","map","breakpoint","index","container","style","display","Grid","Array","columns","fill","column","Column","size","getBreakpointQuery","minWidth","maxWidth","query","push","join","createStyles","gridSettings","document","createElement","mediaQuery","prefixes","gridStyle","grid","forEach","items","gutterSize","gridColumn","i","j","width","head","appendChild","createTextNode","createContext","GridSystem","settings","children","Provider","value","gridContext","setBreakpoint","handleResize","setTimeout","bp","find","innerWidth","classNames","defaultState","dataProps","offsetLeft","offsetRight","refColumn","useRef","state","setState","getParentSizes","parentSize","current","parentElement","closest","getAttribute","totalColumns","columnSize","ref"],"mappings":"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"}